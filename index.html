<html>
<head>
<title>NOOBS Food Recommendation</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="jsfile.js"></script>
<script type="text/javascript" src="zomatoapi.js"></script>
</head>
<body>
<section class="header" id="hide-div" style="display: block">
<h1><a href="" class="typewrite" data-period="2000" data-type='["Welcome foodies!", "Order, Eat, Sleep, Repeat", "Hangry is an emotion"]'>
    <span class="wrap"></span>
  </a>
    </h1>
<p></p>
<div class="input-group">
    <input type="text" class="form-control" id="text-search" placeholder="Enter Your Destination">
    <div class="input-group-append">
    <button type="submit" onclick="hideDiv();openSearch();" class="input-group-text btn">Search</button>    
    </div>
</div>

</section>  
<section class="features" id="show-div" style="display: none">
    <div class="container">
        <h1>Trending collections!</h1>
        <p>Browse lists of the finest restaurants in your city.</p>
        <div class="row" id="title">

        </div>
    </div>
</section>  

<section class="gallery" id="show-div1" style="display: none">
<h1>Food gallery</h1>
<div class="container">
<div class="row">
<div class="col-md-3">
    <div class="gallery-box">
        <img src="https://66.media.tumblr.com/c1da35f283662765d688bcc90281d7d8/tumblr_mvhc10Xbv01ro9rq7o2_400.gif">
        <h4>Healthy</h4>
    </div>
</div> 
<div class="col-md-3">
    <div class="gallery-box">
        <img src="https://i2.wp.com/codemyui.com/wp-content/uploads/2018/02/cheesy-pizza-loader.gif?">
        <h4>Comfort Food</h4>
    </div>
</div>
<div class="col-md-3">
    <div class="gallery-box">
        <img src="https://bestanimations.com/Food/Beverages/Coffee/coffee-animated-gif-18.gif">
        <h4>Coffee</h4>
    </div>
</div>
<div class="col-md-3">
    <div class="gallery-box">
        <img src="https://66.media.tumblr.com/6298469f379334e3c98aadf48fa461f6/tumblr_okknjsByo81sa9pj8o3_500.gifv">
        <h4>Chocolate</h4>
    </div>
</div> 
</div>    
</div>
</section>
<section class="banner" id="show-div2" style="display: none">
    <div class="banner-highlights">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                <h2>Get 30% on top destination</h2>
                <p>Book your tickets before 31st march and avail 30% flat discount.</p>
                </div>
                <div class="col-md-4">
                <button type="button" class="booking-btn">Book Now</button>
                            
                </div>
            </div>
        </div>
    </div>
</section>
<section class="users-feedback" id="show-div3" style="display: none">
<h1>Users Review</h1> 
<div class="container">
<div class="row">
<div class="col-md-4">
    <div class="user-review">
    <p> One of the amazing experience. My first time with a group and I got to enjoy every bit of it.
        You guys are like a blessing in disguise indeed. I am definitely going to do this again .
        </p>
    <h5>Abhilasha </h5>
    <small>Uttarakand</small>
    </div>
    <img src="https://media-exp1.licdn.com/dms/image/C5603AQHsWD7zTwhlcA/profile-displayphoto-shrink_800_800/0?e=1593648000&v=beta&t=wNH6PqAmBRy7qJOyKuDw2MSdUvw1NTRVBhs_WgsR9So">
</div>    
<div class="col-md-4">
<div class="user-review">
    <p>Well planned, just what a working professional who doesn't have time to plan a trip requires.
         Approachable guides, clean accommodation, variety of activities. A great weekend getaway!</p>
    <h5>Gowthami Sukhavasi</h5>
    <small>Bangalore</small>
    </div>
    <img src="https://qph.fs.quoracdn.net/main-thumb-34877621-200-qofhrakhddnvlvcpemkpvpupyifemflu.jpeg">
</div>    
<div class="col-md-4">
<div class="user-review">
    <p>Best New Year Eve I ever had. Thanks to the team. They are super cool and organized the trip very nicely.I had a great time with my friends.</p>
    <h5>Vishesh Kedia</h5>
    <small>Hyderabad</small>
    </div>
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1iLKVWWKh5a4JjUaplumXYPz1AfxlGktOgNrHEQ100tfTJW4yqw&s">    
</div>    
</div>    
</div>
</section>
<section class="footer" id="show-div4" style="display: none">
<div class="container">
<div class="row">
    <div class="col-md-3">
    <p>Subscribe to get discounts on trips via email</p>
    </div>
    <div class="col-md-3">
    <h4>Features</h4>
    <p>Deals & Offers</p>
    <p>Customer Reviews</p>
    <p>Cancelation Policy</p>
    </div>
    <div class="col-md-3">
    <h4>Quick Contact</h4>
    <p><i class="fa fa-phone-square"></i> +91 </p>
    <p><i class="fa fa-envelope"></i> thewanderers@gmail.com</p>
    <p><i class="fa fa-home"></i> Raj Bhavan Road, Hyderabad</p>
    </div>
    <div class="col-md-3">
    <h4>Follow Us on</h4>
    <p><i class="fa fa-facebook-official"></i> Facebook</p>
    <p><i class="fa fa-youtube-play"></i> YouTube</p>
    <p><i class="fa fa-twitter"></i> Twitter</p>
    </div>
</div><hr>
    <p class="copyright">Made with <i class="fa fa-heart"></i> by THE NOOBS</p>
</div>    
</section>
<script>
        
    function hideDiv() {
        console.log("inside hidediv");
  var hide = document.getElementById("hide-div");
  var show = document.getElementById("show-div");
  var show1 = document.getElementById("show-div1");
  var show2 = document.getElementById("show-div2");
  var show3 = document.getElementById("show-div3");
  var show4 = document.getElementById("show-div4");

  
  if (hide.style.display === "block" && show.style.display === "none"){
    hide.style.display = "none";
    show.style.display = "block";
    show1.style.display = "block";
    show2.style.display = "block";
    show3.style.display = "block";
    show4.style.display = "block";

  } 
}

   function openSearch(){
        let output ='';
        let v = document.getElementById('text-search').value;
       
        axios.get(`https://developers.zomato.com/api/v2.1/cities?q=${v}`,{
            headers:{
                'user-key': "dd8d4d0ec90219d1053b0513eb6cfaae"
            }

        })
        .then(function(response){
            console.log(response.data);
           let k = response.data.location_suggestions[0].id;
          //  console.log(response.data.location_suggestions[0].id);

          axios.get(`https://developers.zomato.com/api/v2.1/collections?city_id=${k}`, {
            headers:{
                'user-key': "dd8d4d0ec90219d1053b0513eb6cfaae"
                  }
            })

        .then(function (response) {
            console.log(response.data);

            for(var i=0;i<6;i++){
                output += `
                <div class="col-md-4">
                <div class="feature-box">
                <div class="feature-img">
                <a href=" ${response.data.collections[i].collection.share_url}">
                <img src="${response.data.collections[i].collection.image_url}" style="width=450px; height=450px;">
                </a>
                </div>
                <div class="feature-details">
                <h4>${response.data.collections[i].collection.title}</h4>
                <p>${response.data.collections[i].collection.description}</p>           
                </div></div></div>
                ` 
            }
            document.getElementById('title').innerHTML += output;
        })

        .catch(function (error) {
          console.log(error);
         })

         .then(function () {
    // always executed
  });

        })
        .catch(function (error) {
          console.log(error);
         })

         .then(function () {

  });
    }
</script>
</body>
</html>